<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    {% extends "base.html" %} {% load socialaccount %} {% load widget_tweaks %}
    {% load static %}
    <script src="{% static 'htmx.min.js' %}" defer></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <title>Environ - A Whistleblower App</title>
  </head>
  {% block content %}
  <body>
    <div class="container">
      <h1 class="display-6 mt-3">User Submissions</h1>

        <button type="button" class="btn btn-info dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
          Sort By
        </button>

        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="/files/date_newest/">Date (Newest)</a></li>
          <li><a class="dropdown-item" href="/files/date_oldest/">Date (Oldest)</a></li>
        </ul>



      <table
        class="table table-hover table-responsive mt-4 mb-5 table-bordered- border-info align-middle"
      >
        <thead class ='table-info border-1'>
          <tr class='lead'>
            <th scope="col">Date</th>

            <th scope="col">Company</th>
            <th scope="col">Reason</th>

            <th scope="col">Username</th>

            <th scope="col">Email</th>
            <th scope="col">Status</th>
            <th scope="col">Explanation</th>
            <th scope="col">Action</th>

          </tr>
        </thead>

        <tbody class='lead fs-6'>
          {% for obj in uploaded_files %}
          <tr>

            <td>{{ obj.date}}</td>


            <td>{{ obj.company}}</td>

            <td>{{ obj.reason}}</td>

            <td>{{ obj.username}}</td>

            <td>{{ obj.email}}</td>
            <td>{{ obj.get_status_display }}</td>
            <td>{{ obj.explanation }}</td>
            <td>
              <a href="/file_view/{{ obj.id }}" class="btn btn-info">Review</a>
            </td>

          </tr>

          {% endfor %}
        </tbody>
      </table>
    </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  {% endblock content %}
</html>

