<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    {% extends "base.html" %} {% load socialaccount %} {% load widget_tweaks %}
    {% load static %}
    <script src="{% static 'htmx.min.js' %}" defer></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <title>Environ - A Whistleblower App</title>
  </head>
  {% block content %}
  <body>
    <div class="container">
      <h1 class="display-6 mt-3">Sign Up</h1>
      <p class="lead fs-5">
        Already have an account? Then please
        <a href="/form/login/"><strong>sign in</strong></a
        >.
      </p>
      <form method="post" action="/form/signup/">
        {% csrf_token %}
        <p>
          <label for="id_username" class="display-6 fs-5 mt-1 form-label"
            >Username:</label
          >
          <input
            type="text"
            name="username"
            class="form-control"
            autocomplete="username"
            minlength="1"
            maxlength="150"
            required
            id="id_username"
          />
        </p>
        <p>
          <label for="id_email" class="display-6 fs-5 mt-1 form-label"
            >Email (optional):</label
          >
          <input
            type="email"
            name="email"
            class="form-control"
            autocomplete="email"
            maxlength="320"
            id="id_email"
          />
        </p>
        <p>
          {% if form.password1.errors %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              {{ form.password1.errors.as_text }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endif %}
          <label for="id_password1" class="display-6 fs-5 mt-1 form-label"
            >Password:</label
          >
          <input
            type="password"
            name="password1"
            autocomplete="new-password"
            class="form-control"
            required
            id="id_password1"
          />
          <span class="helptext">
            <ul class="lead">
              <li>
                Your password can’t be too similar to your other personal
                information.
              </li>
              <li>Your password must contain at least 8 characters.</li>
              <li>Your password can’t be a commonly used password.</li>
              <li>Your password can’t be entirely numeric.</li>
            </ul>
          </span>
        </p>
        {% if form.password2.errors %}
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ form.password2.errors.as_text }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endif %}
        <p>
          <label for="id_password2" class="display-6 fs-5 mt-2 form-label"
            >Password (again):</label
          >
          <input
            type="password"
            name="password2"
            class="form-control"
            autocomplete="new-password"
            required
            id="id_password2"
          />
        </p>
        <button type="submit" class="btn btn-primary">Sign Up</button>
      </form>
      <hr />

      <div class="mb-5">
        <h2 class="display-6">Or use a third-party</h2>
        <a href="/form/google/login/?process=login" class="btn btn-success mt-2">Google Sign Up</a>
      </div>
    </div>
  </body>
</html>

{% endblock content %}
